PIPELINE: 'satvision_pix4d_satmae_pretrain'
DATAMODULE: 'abi_temporal'

OUTPUT: '/raid/jacaraba/models'

MODEL:
  TYPE: satmae
  NAME: satmae_satvision_pix4d_pretrain-dev
  DROP_PATH_RATE: 0.1
  MAE_VIT:
    PATCH_SIZE: 16
    IN_CHANS: 16
    EMBED_DIM: 1024
    DEPTHS: 24
    NUM_HEADS: 16
    MLP_RATIO: 4.0
    DECODER_EMBED_DIM: 512
    DECODER_DEPTH: 8
    DECODER_NUM_HEADS: 16
    SAME_MASK: False

DATA:
  DATAMODULE: True
  BATCH_SIZE: 32
  LENGTH: 1_920_000
  SHUFFLE: True
  PIN_MEMORY: True
  NUM_WORKERS: 4
  PERSISTENT_WORKERS: True
  TRAIN_DATA_PATHS: [
    "/raid/jacaraba/convection/20200101",
    "/raid/jacaraba/convection/20200102",
    "/raid/jacaraba/convection/20200103",
    "/raid/jacaraba/convection/20200104",
    "/raid/jacaraba/convection/20200105",
    "/raid/jacaraba/convection/20200106",
    "/raid/jacaraba/convection/20200107",
    "/raid/jacaraba/convection/20200108",
    "/raid/jacaraba/convection/20200109",
    "/raid/jacaraba/convection/20200110",
    "/raid/jacaraba/convection/20200111",
    "/raid/jacaraba/convection/20200112",
    "/raid/jacaraba/convection/20200113",
    "/raid/jacaraba/convection/20200114",
    "/raid/jacaraba/convection/20200115",
    "/raid/jacaraba/convection/20200116",
    "/raid/jacaraba/convection/20200117",
    "/raid/jacaraba/convection/20200118",
    "/raid/jacaraba/convection/20200119",
    "/raid/jacaraba/convection/20200120",
    "/raid/jacaraba/convection/20200501",
    "/raid/jacaraba/convection/20200502",
    "/raid/jacaraba/convection/20200503",
    "/raid/jacaraba/convection/20200504",
    "/raid/jacaraba/convection/20200505",
    "/raid/jacaraba/convection/20200506",
    "/raid/jacaraba/convection/20200507",
    "/raid/jacaraba/convection/20200508",
    "/raid/jacaraba/convection/20200509",
    "/raid/jacaraba/convection/20200510",
    "/raid/jacaraba/convection/20200511",
    "/raid/jacaraba/convection/20200512",
    "/raid/jacaraba/convection/20200513",
    "/raid/jacaraba/convection/20200514",
    "/raid/jacaraba/convection/20200515",
    "/raid/jacaraba/convection/20200601",
    "/raid/jacaraba/convection/20200602",
    "/raid/jacaraba/convection/20200603",
    "/raid/jacaraba/convection/20200604",
    "/raid/jacaraba/convection/20200605",
    "/raid/jacaraba/convection/20200606",
    "/raid/jacaraba/convection/20200610",
    "/raid/jacaraba/convection/20200611",
    "/raid/jacaraba/convection/20200612",
    "/raid/jacaraba/convection/20200613",
    "/raid/jacaraba/convection/20200614",
    "/raid/jacaraba/convection/20200615",
    "/raid/jacaraba/convection/20200616",
    "/raid/jacaraba/convection/20200617",
    "/raid/jacaraba/convection/20200618",
    "/raid/jacaraba/convection/20200619",
    "/raid/jacaraba/convection/20200701",
    "/raid/jacaraba/convection/20200702",
    "/raid/jacaraba/convection/20200703",
    "/raid/jacaraba/convection/20200704",
    "/raid/jacaraba/convection/20200705",
    "/raid/jacaraba/convection/20200706",
    "/raid/jacaraba/convection/20200708",
    "/raid/jacaraba/convection/20200709",
    "/raid/jacaraba/convection/20200710",
    "/raid/jacaraba/convection/20200711",
    "/raid/jacaraba/convection/20200712",
    "/raid/jacaraba/convection/20200713",
    "/raid/jacaraba/convection/20200714",
    "/raid/jacaraba/convection/20200715",
    "/raid/jacaraba/convection/20200716",
    "/raid/jacaraba/convection/20200717",
    "/raid/jacaraba/convection/20200718",
    "/raid/jacaraba/convection/20200719",
    "/raid/jacaraba/convection/20200720",
    "/raid/jacaraba/convection/20200721",
    "/raid/jacaraba/convection/20200722",
    "/raid/jacaraba/convection/20200723",
    "/raid/jacaraba/convection/20200724",
    "/raid/jacaraba/convection/20200725"
  ]
  VAL_DATA_PATHS: [
    "/raid/jacaraba/convection/20200101",
    "/raid/jacaraba/convection/20200102",
    "/raid/jacaraba/convection/20200103",
    "/raid/jacaraba/convection/20200104",
    "/raid/jacaraba/convection/20200105",
    "/raid/jacaraba/convection/20200106",
    "/raid/jacaraba/convection/20200107",
    "/raid/jacaraba/convection/20200108",
    "/raid/jacaraba/convection/20200109",
    "/raid/jacaraba/convection/20200110",
    "/raid/jacaraba/convection/20200111",
    "/raid/jacaraba/convection/20200112",
    "/raid/jacaraba/convection/20200113",
    "/raid/jacaraba/convection/20200114",
    "/raid/jacaraba/convection/20200115",
    "/raid/jacaraba/convection/20200116",
    "/raid/jacaraba/convection/20200117",
    "/raid/jacaraba/convection/20200118",
    "/raid/jacaraba/convection/20200119",
    "/raid/jacaraba/convection/20200120",
    "/raid/jacaraba/convection/20200501",
    "/raid/jacaraba/convection/20200502",
    "/raid/jacaraba/convection/20200503",
    "/raid/jacaraba/convection/20200504",
    "/raid/jacaraba/convection/20200505",
    "/raid/jacaraba/convection/20200506",
    "/raid/jacaraba/convection/20200507",
    "/raid/jacaraba/convection/20200508",
    "/raid/jacaraba/convection/20200509",
    "/raid/jacaraba/convection/20200510",
    "/raid/jacaraba/convection/20200511",
    "/raid/jacaraba/convection/20200512",
    "/raid/jacaraba/convection/20200513",
    "/raid/jacaraba/convection/20200514",
    "/raid/jacaraba/convection/20200515",
    "/raid/jacaraba/convection/20200601",
    "/raid/jacaraba/convection/20200602",
    "/raid/jacaraba/convection/20200603",
    "/raid/jacaraba/convection/20200604",
    "/raid/jacaraba/convection/20200605",
    "/raid/jacaraba/convection/20200606",
    "/raid/jacaraba/convection/20200610",
    "/raid/jacaraba/convection/20200611",
    "/raid/jacaraba/convection/20200612",
    "/raid/jacaraba/convection/20200613",
    "/raid/jacaraba/convection/20200614",
    "/raid/jacaraba/convection/20200615",
    "/raid/jacaraba/convection/20200616",
    "/raid/jacaraba/convection/20200617",
    "/raid/jacaraba/convection/20200618",
    "/raid/jacaraba/convection/20200619",
    "/raid/jacaraba/convection/20200701",
    "/raid/jacaraba/convection/20200702",
    "/raid/jacaraba/convection/20200703",
    "/raid/jacaraba/convection/20200704",
    "/raid/jacaraba/convection/20200705",
    "/raid/jacaraba/convection/20200706",
    "/raid/jacaraba/convection/20200708",
    "/raid/jacaraba/convection/20200709",
    "/raid/jacaraba/convection/20200710",
    "/raid/jacaraba/convection/20200711",
    "/raid/jacaraba/convection/20200712",
    "/raid/jacaraba/convection/20200713",
    "/raid/jacaraba/convection/20200714",
    "/raid/jacaraba/convection/20200715",
    "/raid/jacaraba/convection/20200716",
    "/raid/jacaraba/convection/20200717",
    "/raid/jacaraba/convection/20200718",
    "/raid/jacaraba/convection/20200719",
    "/raid/jacaraba/convection/20200720",
    "/raid/jacaraba/convection/20200721",
    "/raid/jacaraba/convection/20200722",
    "/raid/jacaraba/convection/20200723",
    "/raid/jacaraba/convection/20200724",
    "/raid/jacaraba/convection/20200725"
  ]
  IMG_SIZE: 512
  MASK_PATCH_SIZE: 8
  MASK_RATIO: 0.6

TRAIN:
  ACCELERATOR: 'gpu'
  STRATEGY: 'deepspeed'
  USE_CHECKPOINT: True
  EPOCHS: 400
  WARMUP_EPOCHS: 10
  BASE_LR: 3e-4
  MIN_LR: 2e-4
  WARMUP_LR: 1e-4
  WEIGHT_DECAY: 0.05
  LR_SCHEDULER:
    NAME: 'multistep'
    GAMMA: 0.1
    MULTISTEPS: [700,]

DEEPSPEED:
  STAGE: 2

PRECISION: 'bf16-mixed'

PRINT_FREQ: 10 
SAVE_FREQ: 50
TAG: satmae_satvision_pix4d_pretrain-dev
